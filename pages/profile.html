<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" />
    <link rel="stylesheet" href="../src/css/profile.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="/src/js/auth.js"></script>
</head>
<body>
    <div class="container">
        <!-- Background Elements -->
        <div class="bg-gradient"></div>
        <div class="bg-circle"></div>

        <!-- Header -->
        <div class="header">
            <div class="back-btn" onclick="goBack()"></div>
            <h1 class="page-title">Profil</h1>
        </div>

        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <a href="#" class="nav-item active" onclick="showSection('profile')">Edit Profil</a>
            <a href="#" class="nav-item" onclick="showSection('mentor')">Mentor</a>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Profile Section -->
            <section x-data="{user: window.user.user_metadata}" class="profile-section" id="profile-section">
                <div class="profile-header">
                    <img class="profile-image" x-bind:src="user.avatar_url" alt="Profile Picture">
                    <button class="photo-btn" onclick="selectPhoto()">Pilih Foto</button>
                    <h2 class="user-name" x-text="user.nickname"></h2>
                    <p class="user-role">Member</p>
                </div>

                <form class="form-section" onsubmit="saveProfile(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Nama Depan</label>
                            <input type="text" class="form-input" x-bind:value="user.nickname.split(' ')[0]" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Belakang</label>
                            <input type="text" class="form-input" x-bind:value="user.nickname.split(' ')[1]" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" x-bind:value="user.email" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">Nomor Telepon</label>
                            <div class="form-input phone-input">
                                <div class="country-code">
                                    <div class="flag-icon"></div>
                                    <span class="country-code-text">+62</span>
                                </div>
                                <input type="tel" style="border: none; outline: none; flex: 1; font-size: 20px;" value="" >
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="save-btn">Simpan</button>
                </form>
            </section>

            <!-- Mentor Section -->
            <section class="mentor-section" id="mentor-section">
                <div class="mentor-content">
                    <div class="mentor-message">
                        <p>ANDA BELUM TERDAFTAR SEBAGAI MENTOR</p>
                        <p>DAFTAR SEKARANG?</p>
                    </div>
                    <button class="register-btn" onclick="registerMentor()">Daftar Disini</button>
                </div>
            </section>
        </div>
    </div>
<script src="../src/js/profile.js"></script>
</body>
</html>