<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Kajian - Belajar Ngaji Online</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.3/cdn.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/src/js/global.js"></script>
    <link rel="stylesheet" href="/src/css/super-admin.css">
    <link rel="stylesheet" href="/src/css/animation.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body x-data="adminSystem()">
    <!-- Mobile Menu Overlay -->
    <div x-show="mobileMenuOpen" 
         x-transition:enter="transition-opacity ease-linear duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         x-transition:leave="transition-opacity ease-linear duration-300"
         x-transition:leave-start="opacity-100yq"
         x-transition:leave-end="opacity-0"
         class="fixed inset-0 z-40 lg:hidden"
         @click="mobileMenuOpen = false">
        <div class="fixed inset-0 bg-black bg-opacity-25"></div>
    </div>

    <!-- Popup Modal -->
    <div id="popup" class="fixed flex hidden justify-center items-center" style="height: 100vh; width: 100vw; z-index: 10000;">
        <div id="popup-child" class="popup p-6 rounded-lg w-auto h-auto" style="z-index: 3; min-width: 300px; max-width: 90vw;" x-data="{ html:'' }" x-html="html" x-ref="popup"></div>
        <div class="w-full fixed h-full bg-gray-500 opacity-50" style="z-index: 2;"></div>
    </div>

    <!-- Sidebar -->
    <div class="sidebar" :class="{'sidebar-open': mobileMenuOpen}">
        <div class="sidebar-header">
            <div class="flex items-center justify-between">
                <span>Mentor Kajian</span>
                <button @click="mobileMenuOpen = false" class="lg:hidden text-white hover:text-gray-200">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
        <ul class="sidebar-menu">
            <li><a href="/mentor/kelas" class="sidebar-link">
                <i class="fas fa-chalkboard-teacher mr-3"></i>
                Kelas
            </a></li>
            <li><a href="/admin/manage/sedekah" class="sidebar-link">
                <i class="fas fa-hand-holding-heart mr-3"></i>
                Petermuan Kelas
            </a></li>
            <li><a href="/admin/manage/mentor" class="sidebar-link">
                <i class="fas fa-user-tie mr-3"></i>
                Profile Anda
            </a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <div class="flex items-center">
                <button @click="mobileMenuOpen = true" class="mobile-menu-toggle mr-4">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 x-text="getPageTitle()" class="header-title"></h1>
            </div>
            <button class="logout-btn" @click="logout()">
                <i class="fas fa-sign-out-alt mr-2"></i>
                Logout
            </button>
        </div>        
        
        <!-- Content Area -->
        <div class="content-area">
            $adminContent
        </div>
    </div>

    <script src="/src/js/super-admin.js"></script>
    <script data-upi>$$dataUpi</script>
    <script>
        // Initialize mobile menu state
        document.addEventListener('alpine:init', () => {
            Alpine.data('adminSystem', () => ({
                mobileMenuOpen: false,
                getPageTitle() {
                    return 'Dashboard Admin';
                },
                logout() {
                    // Logout logic here
                    console.log('Logging out...');
                }
            }));
        });
    </script>
</body>
</html>
