<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Daftar Mentor — Mentor Registration</title>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--green:#6bbf59;--muted:#f6f8f6;--card:#ffffff;--text:#111}
    *{box-sizing:border-box}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(180deg,#fbfdfb 0%,#f7faf7 100%);color:var(--text);margin:0;padding:24px}
    .wrap{max-width:920px;margin:20px auto;background:var(--card);border-radius:12px;box-shadow:0 10px 30px rgba(15,23,42,0.06);overflow:hidden}
    header{padding:28px 32px;border-bottom:1px solid rgba(0,0,0,0.04)}
    header h1{margin:0;font-size:20px;font-weight:700}
    header p{margin:6px 0 0;color:#556}

    form{padding:28px 32px;display:grid;grid-template-columns:1fr 360px;gap:24px}

    /* left column (form fields) */
    .field{margin-bottom:14px}
    label{display:block;font-weight:600;margin-bottom:8px}
    input[type=text],input[type=email],input[type=tel],input[type=number],select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(10,10,10,0.08);background:#fff;font-size:15px}
    textarea{min-height:120px;resize:vertical}
    .small{font-size:13px;color:#6b6b6b;margin-top:6px}

    /* right column (profile preview & meta) */
    .side{padding:12px;border-left:1px dashed rgba(0,0,0,0.04);min-height:200px}
    .avatar-preview{width:100%;display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;background:var(--muted)}
    .avatar-preview img{width:72px;height:72px;border-radius:12px;object-fit:cover}
    .meta{margin-top:12px}

    /* checkbox grid */
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}

    /* actions */
    .actions{display:flex;gap:12px;align-items:center;margin-top:8px}
    .btn{display:inline-block;padding:12px 16px;border-radius:10px;border:1px solid rgba(0,0,0,0.08);cursor:pointer;font-weight:700}
    .btn-primary{background:var(--green);color:#fff;border:none}
    .btn-ghost{background:transparent}

    /* success/alert */
    .alert{padding:12px 14px;border-radius:10px;margin-bottom:12px}
    .alert-success{background:linear-gradient(90deg,rgba(107,191,89,0.12),rgba(107,191,89,0.06));border:1px solid rgba(107,191,89,0.12);color: #174f18}
    .alert-error{background:#fff5f5;border:1px solid #ffdcdc;color:#6b1a1a}

    /* hover effects (consistent with profile page) */
    button, .btn, .mentor-cta, .save-btn, .mentor-link, .nav-item, a {
      transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, filter .12s ease;
      will-change: transform, box-shadow;
    }
    button:hover, .btn:hover, .mentor-cta:hover, .save-btn:hover, .mentor-link:hover, .nav-item:hover, a:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 24px rgba(0,0,0,0.12);
    }
    .btn-primary:hover{transform:translateY(-4px);filter:brightness(.98)}

    /* responsive */
    @media (max-width:900px){form{grid-template-columns:1fr;padding:20px} .side{border-left:none;border-top:1px dashed rgba(0,0,0,0.04);padding-top:18px}}
  </style>
</head>
<body>
  <div class="wrap" x-data="mentorForm()">
    <header>
      <h1>Formulir Pendaftaran Mentor</h1>
      <p>Isi data di bawah untuk mendaftar sebagai mentor. Pastikan informasi yang diberikan akurat.</p>
    </header>

    <form @submit.prevent="submit()" novalidate>
      <div>
        <template x-if="message.text">
          <div :class="message.type==='success' ? 'alert alert-success' : 'alert alert-error'" x-text="message.text"></div>
        </template>

        <div class="field">
          <label for="fullname">Nama Lengkap</label>
          <input id="fullname" type="text" x-model="form.fullname" placeholder="Contoh: Zahir Muntazier" required>
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="email">Email</label>
            <input id="email" type="email" x-model="form.email" placeholder="email@domain.com" required>
          </div>
          <div class="field">
            <label for="phone">Nomor Telepon</label>
            <input id="phone" type="tel" x-model="form.phone" placeholder="81234567890">
          </div>
        </div>

        <div class="field">
          <label for="expertise">Bidang Keahlian <span class="small">(pisahkan dengan koma, contoh: Web, Python, AI)</span></label>
          <input id="expertise" type="text" x-model="form.expertise" placeholder="Web Development, Python, Machine Learning">
        </div>

        <div class="field">
          <label for="description">Deskripsi Singkat</label>
          <textarea id="description" x-model="form.description" placeholder="Ceritakan pengalaman & apa yang kamu ajarkan"></textarea>
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="experience">Pengalaman (tahun)</label>
            <input id="experience" type="number" min="0" x-model.number="form.experience">
          </div>
          <div class="field">
            <label for="rate">Tarif per Sesi (opsional)</label>
            <input id="rate" type="text" x-model="form.rate" placeholder="Rp 50.000">
          </div>
        </div>

        <div class="field">
          <label>Ketersediaan</label>
          <div class="grid-2">
            <label><input type="checkbox" x-model="form.availability" value="Senin"> Senin</label>
            <label><input type="checkbox" x-model="form.availability" value="Selasa"> Selasa</label>
            <label><input type="checkbox" x-model="form.availability" value="Rabu"> Rabu</label>
            <label><input type="checkbox" x-model="form.availability" value="Kamis"> Kamis</label>
            <label><input type="checkbox" x-model="form.availability" value="Jumat"> Jumat</label>
            <label><input type="checkbox" x-model="form.availability" value="Sabtu"> Sabtu</label>
            <label><input type="checkbox" x-model="form.availability" value="Minggu"> Minggu</label>
          </div>
        </div>

        <div class="field">
          <label for="cv">Unggah CV / Portofolio (opsional)</label>
          <input id="cv" type="file" @change="handleFile($event,'cv')" accept=".pdf,.doc,.docx">
          <p class="small" x-text="form.cvName ? 'Terkirim: ' + form.cvName : 'Maks 5MB. PDF/DOC.'"></p>
        </div>

        <div class="field">
          <label><input type="checkbox" x-model="form.terms"> Saya setuju dengan syarat & ketentuan platform</label>
        </div>

        <div class="actions">
          <button type="submit" class="btn btn-primary" x-bind:disabled="loading">
            <span x-show="!loading">Daftar Sekarang</span>
            <span x-show="loading">Mengirim...</span>
          </button>
          <button type="button" class="btn btn-ghost" @click.prevent="reset()">Reset</button>
        </div>

        <p class="small" style="margin-top:12px">Catatan: ini contoh formulir—untuk produksi, sambungkan ke endpoint backend, tambahkan reCAPTCHA, dan validasi server-side.</p>
      </div>

      <aside class="side">
        <div class="avatar-preview">
          <img :src="form.photoPreview || defaultAvatar" alt="Profile preview">
          <div>
            <div style="font-weight:700" x-text="form.fullname || 'Nama Belum Diisi'"></div>
            <div class="small" x-text="form.expertise || 'Bidang belum diisi'"></div>
          </div>
        </div>

        <div class="meta">
          <label for="photo" style="display:block;margin-top:12px;font-weight:600">Unggah Foto Profil</label>
          <input id="photo" type="file" accept="image/*" @change="handleFile($event,'photo')">

          <div style="margin-top:14px">
            <strong>Preview:</strong>
            <p class="small">Foto akan muncul di kartu preview di atas.</p>
          </div>

          <div style="margin-top:16px">
            <strong>Status Pendaftaran:</strong>
            <div x-show="!registered" class="small">Belum terdaftar</div>
            <div x-show="registered" class="small" style="color:green">Terdaftar — Menunggu review</div>
          </div>
        </div>
      </aside>
    </form>
  </div>

  <script>
    function mentorForm(){
      return {
        defaultAvatar: 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 150 150\'%3E%3Ccircle cx=\'75\' cy=\'75\' r=\'75\' fill=\'%23e0e0e0\'/%3E%3Cpath d=\'M75 75c13.8 0 25-11.2 25-25S88.8 25 75 25 50 36.2 50 50s11.2 25 25 25zm0 12.5c-16.7 0-50 8.35-50 25v12.5h100v-12.5c0-16.65-33.3-25-50-25z\' fill=\'%23999\'/%3E%3C/svg%3E',
        form: {
          fullname: '', email: '', phone: '', expertise: '', description: '', experience: null, rate: '', availability: [], photo: null, photoPreview: '', cv: null, cvName: '', terms: false
        },
        loading:false,
        registered:false,
        message: { text:'', type:'' },

        // handle both photo & cv
        handleFile(e, type){
          const file = e.target.files[0]; if(!file) return;
          if(type === 'photo'){
            this.form.photo = file; this.form.photoPreview = URL.createObjectURL(file);
          } else if(type === 'cv'){
            this.form.cv = file; this.form.cvName = file.name;
          }
        },

        validate(){
          if(!this.form.fullname) return 'Nama lengkap dibutuhkan.';
          if(!this.form.email) return 'Email dibutuhkan.';
          if(!this.form.terms) return 'Anda harus menyetujui syarat & ketentuan.';
          return '';
        },

        async submit(){
          const err = this.validate();
          if(err){ this.message = { text: err, type: 'error' }; return; }

          this.loading = true; this.message = { text:'', type:'' };
          try{
            // Simulate upload & API call
            await new Promise(r => setTimeout(r, 900));

            // Example: prepare payload (in production, use FormData + fetch/axios)
            const payload = {
              ...this.form,
              availability: Array.isArray(this.form.availability) ? this.form.availability : [this.form.availability]
            };
            console.log('Submitting mentor payload', payload);

            // simulate success
            this.registered = true;
            this.message = { text: 'Pendaftaran berhasil dikirim. Tim akan meninjau profil Anda.', type:'success' };

            // clear sensitive files after submission
            this.form.cv = null; this.form.cvName = '';
            // revoke preview URL after some time
            setTimeout(()=>{ if(this.form.photoPreview) URL.revokeObjectURL(this.form.photoPreview); }, 2000);

          }catch(err){
            console.error(err);
            this.message = { text: 'Gagal mengirim pendaftaran. Coba lagi nanti.', type:'error' };
          }finally{ this.loading = false; }
        },

        reset(){
          this.form = { fullname:'', email:'', phone:'', expertise:'', description:'', experience:null, rate:'', availability:[], photo:null, photoPreview:'', cv:null, cvName:'', terms:false };
          this.message = { text:'', type:'' };
        }
      }
    }
  </script>
</body>
</html>
